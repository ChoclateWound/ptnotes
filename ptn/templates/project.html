{% extends "base.html" %}
{% block data %}

<h2>{{ name }}</h2>
<p>
<a href="/project/{{ pid }}/notes">Project Notes</a> | 
<a href="/project/{{ pid }}/attack/notes">Attack Notes</a> | 
<a href="/project/{{ pid }}/host/notes">Host Notes</a> | 
<a href="/project/{{ pid }}/import">Import Data</a>
</p>

<h3>Notes</h3>
<form method='POST' action="/project/{{ pid }}/notes">
    <textarea name="note">{{ note }}</textarea><br />
    <input type="submit" value="Update Notes" />
</form>

<h3>Possible Attacks</h3>
{% if not attacks %}
    <p>No attacks are available yet.</p>
{% else %}
    <table>
        <tr>
            <th>Name</th>
            <th>Description</th>
        </tr>
    {% for a in attacks %}
        <tr>
            <td><a href="/project/{{ pid }}/attack/{{ a['id'] }}">{{ a['name'] }}</a></td>
            <td>{{ a['description'] }}</td>
        </tr>
    {% endfor %}

    </table>
{% endif %}

<h3>Imported Hosts</h3>
{% if not ports %}
	<p>No hosts have been import yet, please import a Nessus or Nmap XML file.</p>
{% else %}
	<table>
        <tr>
            <th>Host</th>
            <th>TCP Ports</th>
            <th>UDP Ports</th>
        </tr>
        {% for p in ports %}
            <tr>
                <td><a href="/project/{{ pid }}/host/{{ p }}">{{ p }}</a></td>
                <td>{{ ', '.join(ports[p]['tcp']) }}</td>
                <td>{{ ', '.join(ports[p]['udp']) }}</td>
            </tr>
        {% endfor %}
    </table>
{% endif %}

{% endblock %}
